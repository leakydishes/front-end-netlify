(this["webpackJsonpmy-card-app"]=this["webpackJsonpmy-card-app"]||[]).push([[0],{101:function(e,t,a){},127:function(e,t,a){e.exports=a(153)},132:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},151:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(53),l=a.n(c),u=(a(132),a(101),a(0)),s=a.n(u),o=a(1),i=a(10),m=a(35),p=a(114),b=a(42),f=a(71),d=a(31),E=Object(p.a)({apiKey:"AIzaSyAp0C_M4KT88D4V3kxYs-RmIP04cRIEX34",authDomain:"deakin-app-web-project.firebaseapp.com",projectId:"deakin-app-web-project",storageBucket:"deakin-app-web-project.appspot.com",messagingSenderId:"719775334290",appId:"1:719775334290:web:bda4557b2cbd172a0f8b4b"}),v=Object(b.c)(E),g=Object(d.g)(E),h=Object(f.b)(E),j=new b.a;j.setCustomParameters({prompt:"select_account"});var O=function(){var e=Object(o.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(b.d)(v,t,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(s.a.mark((function e(t){var a,n,r,c,l,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:{},n=Object(d.d)(g,"users",t.uid),e.next=4,Object(d.e)(n);case 4:if(e.sent.exists()){e.next=16;break}return r=t.displayName,c=t.email,l=new Date,e.prev=8,e.next=11,Object(d.i)(n,Object(m.a)({displayName:r,email:c,createdAt:l},a));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.log("Error Creating User: ",e.t0.message);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(b.b)(v,t,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.b)(g,"form-data"),e.next=3,Object(d.f)(t);case 3:return a=e.sent,n=a.docs.map((function(e){return Object(m.a)({id:e.id},e.data())})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.c)(Object(d.d)(g,"form-data",t));case 3:console.log("Post deleted successfully"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error deleting document: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),N=a(13),C=(a(138),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),m=u[0],p=u[1],b=Object(n.useState)(null),f=Object(i.a)(b,2),d=f[0],E=f[1],g=Object(n.useState)(!1),h=Object(i.a)(g,2),j=h[0],O=h[1],w=Object(n.useState)(!0),y=Object(i.a)(w,2),C=y[0],S=y[1],P=Object(N.g)();Object(n.useEffect)((function(){(function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.currentUser){e.next=9;break}return O(!0),e.next=5,k();case 5:t=e.sent,c(t),e.next=10;break;case 9:O(!1);case 10:S(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var L=a.filter((function(e){return e.title&&e.title.toLowerCase().includes(m.toLowerCase())||e.postType&&e.postType.toLowerCase().includes(m.toLowerCase())})),T=function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:c(a.filter((function(e){return e.id!==t})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return C?r.a.createElement("p",null,"Loading..."):j?r.a.createElement("div",null,r.a.createElement("h2",null,"Question List"),r.a.createElement("input",{type:"text",placeholder:"Search questions...",value:m,onChange:function(e){p(e.target.value)}}),0===L.length?r.a.createElement("p",null,"No posts available"):L.map((function(e){return r.a.createElement("div",{key:e.id,className:"question-card"},r.a.createElement("h3",null,e.title),r.a.createElement("p",null,"question"===e.postType?"Question":"Article"),r.a.createElement("p",null,new Date(1e3*e.timestamp.seconds).toLocaleDateString()),r.a.createElement("button",{onClick:function(){return t=e.id,void E(d===t?null:t);var t}},d===e.id?"Collapse":"Expand"),r.a.createElement("button",{onClick:function(){return T(e.id)}},"Delete"),d===e.id&&r.a.createElement("div",{className:"expanded-content"},e.abstract&&r.a.createElement("p",null,"Abstract: ",e.abstract),r.a.createElement("p",null,e.content),r.a.createElement("p",null,e.tags)))}))):r.a.createElement("div",null,r.a.createElement("p",null,"You need to be logged in to view posts."),r.a.createElement("button",{onClick:function(){P("/login")}},"Login"))});var S=function(){return r.a.createElement("div",null,r.a.createElement("h1",null," Welcome"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer fringilla justo tellus, nec placerat lacus congue eget. Praesent eget faucibus sapien, dignissim varius massa. Quisque cursus tellus nulla, id ultrices sapien accumsan eu. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Maecenas sed cursus orci. Aliquam erat volutpat. Suspendisse pretium justo quis tortor iaculis rhoncus."))},P=(a(139),a(26)),L=a(100);var T=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-left"},r.a.createElement(P.b,{to:"/about"},"About Deakin")),r.a.createElement("div",{className:"footer-center"},r.a.createElement(P.b,{to:"/connect"},"Connect with us")),r.a.createElement("div",{className:"footer-right"},r.a.createElement("a",{href:"https://www.facebook.com/DeakinUniversity"},r.a.createElement(L.a,{className:"icon"})),r.a.createElement("a",{href:"https://www.instagram.com/deakinuniversity/"},r.a.createElement(L.b,{className:"icon"})),r.a.createElement("a",{href:"https://twitter.com/deakin"},r.a.createElement(L.c,{className:"icon"}))))};a(140);var q=function(){return r.a.createElement("div",{className:"navbar-div"},r.a.createElement(P.b,{className:"link",to:"/"},"Home"),r.a.createElement(P.b,{className:"link",to:"/about"},"About"),r.a.createElement(P.b,{className:"link",to:"/login"},"Login"),r.a.createElement(P.b,{className:"link",to:"/post"},"Post"),r.a.createElement(P.b,{className:"link",to:"/profile"},"Profile"),r.a.createElement(N.a,null))};var A=function(){return r.a.createElement("div",null,r.a.createElement(q,null),r.a.createElement(T,null))};var D=function(){return r.a.createElement("div",null,r.a.createElement("h1",null," Contact us "),r.a.createElement("p",null,"Melbourne Burwood Campus",r.a.createElement("br",null),"Call +61 3 9244 6100",r.a.createElement("br",null),"8.30am 5pm, Monday to Friday"))},I=a(5),U=function(e){return r.a.createElement("div",null,r.a.createElement("input",{name:e.name,type:e.type,placeholder:e.placeholder,onChange:e.onChange}))},F=(a(141),function(e){var t=Object(n.useState)({displayName:"",email:"",password:"",confirmPassword:""}),a=Object(i.a)(t,2),c=a[0],l=a[1],u=c.displayName,p=c.email,b=c.password,f=c.confirmPassword;console.log(c);var d=function(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(I.a)({},a,n))}))},E=function(){var e=Object(o.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b===f){e.next=4;break}return alert("Passwords do not match!"),e.abrupt("return");case 4:return e.prev=4,e.next=7,y(p,b);case 7:return a=e.sent,n=a.user,e.next=11,w(n,{displayName:u});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Error Creating User",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login-container"},r.a.createElement(U,{className:"input-field",name:"displayName",type:"text",placeholder:"Display Name",onChange:d,value:c.displayName}),r.a.createElement("br",null),r.a.createElement(U,{className:"input-field",name:"email",type:"email",placeholder:"Email",onChange:d,value:c.email}),r.a.createElement("br",null),r.a.createElement(U,{className:"input-field",name:"password",type:"password",placeholder:"Password",onChange:d,value:c.password}),r.a.createElement("br",null),r.a.createElement(U,{className:"input-field",name:"confirmPassword",type:"password",placeholder:"Confirm Password",onChange:d,value:c.confirmPassword}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:E,className:"signup-button"},"Sign up"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.b,{to:"/login",className:"login-link"},"Log in"))}),M=(a(142),function(){var e=Object(n.useState)({email:"",password:""}),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),u=Object(i.a)(l,2),p=u[0],f=u[1],d=Object(N.g)();Object(n.useEffect)((function(){return Object(b.c)().onAuthStateChanged((function(e){f(e)}))}),[]);var E=function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.e)(v,j);case 3:return t=e.sent,a=t.user,e.next=7,w(a);case 7:console.log("Google user signed in:",a),d("/profile"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error signing in with Google:",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(s.a.mark((function e(t){var n,r,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=a.email,r=a.password,e.next=5,O(n,r);case 5:c=e.sent,l=c.user,console.log("User signed in:",l),d("/profile"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Error signing in:",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(I.a)({},a,n))}))};return r.a.createElement("div",{className:"login-container"},p?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Welcome, ",p.email),r.a.createElement("button",{onClick:function(){v.signOut().then((function(){f(null),d("/login")})).catch((function(e){console.error("Logout Error:",e)}))},className:"login-button"},"Log Out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{className:"input-field",name:"email",type:"email",placeholder:"Email",onChange:h,value:a.email}),r.a.createElement("br",null),r.a.createElement(U,{className:"input-field",name:"password",type:"password",placeholder:"Password",onChange:h,value:a.password}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:g,className:"login-button"},"Log in"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:E,className:"login-button-google"},"Log in with Google"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.b,{to:"/signup",className:"sign-up-link"},"Sign up")))});a(143);var Q=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(N.g)(),u=Object(b.c)();return Object(n.useEffect)((function(){c(u.currentUser)}),[u]),r.a.createElement("div",{className:"profile-container"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,a.email),r.a.createElement("button",{type:"submit",onClick:function(){u.signOut().then((function(){l("/login")})).catch((function(e){console.error("Logout Error:",e)}))},className:"profile-button"},"Log Out")):r.a.createElement("h1",null,"Not logged in"))},B=function(e){var t=e.postType,a=e.setPostType,n=function(e){a(e.target.value)};return r.a.createElement("div",{className:"post-type-switch"},r.a.createElement("div",null,r.a.createElement("input",{id:"option-question",name:"postType",value:"question",checked:"question"===t,type:"radio",onChange:n}),r.a.createElement("label",{htmlFor:"option-question"},r.a.createElement("span",null),"Question")),r.a.createElement("div",null,r.a.createElement("input",{id:"option-article",name:"postType",value:"article",type:"radio",checked:"article"===t,onChange:n}),r.a.createElement("label",{htmlFor:"option-article"},r.a.createElement("span",null),"Article")))},G=a(171),Y=a(172),J=a(154),K=a(115),R=function(e){var t=e.postType,a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],u=c[1],m=Object(n.useState)(""),p=Object(i.a)(m,2),b=p[0],E=p[1],j=Object(n.useState)(""),O=Object(i.a)(j,2),w=O[0],y=O[1],k=Object(n.useState)(""),x=Object(i.a)(k,2),C=x[0],S=x[1],P=Object(n.useState)(null),L=Object(i.a)(P,2),T=L[0],q=L[1],A=Object(n.useState)(""),D=Object(i.a)(A,2),I=D[0],U=D[1],F=Object(n.useState)(""),M=Object(i.a)(F,2),Q=M[0],B=M[1],R=Object(n.useState)(null),V=Object(i.a)(R,2),W=V[0],_=V[1],z=Object(N.g)();Object(n.useEffect)((function(){var e=v.onAuthStateChanged((function(e){_(e||null)}));return function(){return e()}}),[]);var H=function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=3;break}return U("Please select an image to upload."),e.abrupt("return",null);case 3:return t=Object(K.v4)(),a="/images/".concat(t,"/").concat(T.name),n=Object(f.c)(h,a),e.prev=6,e.next=9,Object(f.d)(n,T);case 9:return r=e.sent,e.next=12,Object(f.a)(r.ref);case 12:return c=e.sent,e.abrupt("return",c);case 16:return e.prev=16,e.t0=e.catch(6),U("Error uploading image. Please try again."),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(o.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),W){e.next=4;break}return U("You need to be logged in to submit a post."),e.abrupt("return");case 4:if(l&&w&&("article"!==t||b)){e.next=7;break}return U("Please fill all required fields."),e.abrupt("return");case 7:return e.next=9,H();case 9:if(n=e.sent){e.next=12;break}return e.abrupt("return");case 12:return r={postType:t,title:l,abstract:"article"===t?b:"",content:w,tags:C,imageUrl:n,timestamp:Object(d.h)()},e.prev=13,e.next=16,Object(d.a)(Object(d.b)(g,"form-data"),r);case 16:B("Post submitted successfully!"),u(""),E(""),y(""),S(""),q(null),z("/"),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(13),U("Error submitting post.");case 28:case"end":return e.stop()}}),e,null,[[13,25]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"post-container"},r.a.createElement("h2",null,"New Post"),r.a.createElement("form",{onSubmit:X},r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"Title"),r.a.createElement(G.a,{type:"text",placeholder:"Enter a descriptive title",value:l,onChange:function(e){return u(e.target.value)}})),"article"===t&&r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"Abstract"),r.a.createElement(Y.a,{placeholder:"Enter a 1-paragraph abstract",value:b,onChange:function(e){return E(e.target.value)}})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"Content"),r.a.createElement(Y.a,{placeholder:"Enter the full content of your post",value:w,onChange:function(e){return y(e.target.value)}})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"Tags"),r.a.createElement(G.a,{type:"text",placeholder:"Enter relevant tags",value:C,onChange:function(e){return S(e.target.value)}})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"Upload Image"),r.a.createElement(G.a,{type:"file",onChange:function(e){q(e.target.files[0])}})),r.a.createElement(J.a,{type:"submit"},"Post")),I&&r.a.createElement("p",{className:"error-message"},I),Q&&r.a.createElement("p",{className:"success-message"},Q))},V=(a(151),function(){var e=Object(n.useState)("question"),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"post-page"},r.a.createElement("h2",null,"Create a New Post"),r.a.createElement(B,{postType:a,setPostType:c}),r.a.createElement(R,{postType:a}))});a(152);var W=function(){return r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/",element:r.a.createElement(A,null)},r.a.createElement(N.b,{index:!0,element:r.a.createElement(C,null)}),r.a.createElement(N.b,{path:"about",element:r.a.createElement(S,null)}),r.a.createElement(N.b,{path:"post",element:r.a.createElement(V,null)}),r.a.createElement(N.b,{path:"connect",element:r.a.createElement(D,null)}),r.a.createElement(N.b,{path:"login",element:r.a.createElement(M,null)}),r.a.createElement(N.b,{path:"signup",element:r.a.createElement(F,null)}),r.a.createElement(N.b,{path:"profile",element:r.a.createElement(Q,null)})))};l.a.render(r.a.createElement(P.a,null,r.a.createElement(W,null)),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.355e332d.chunk.js.map